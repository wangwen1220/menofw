!function(e){var t=function(e){return"[object String]"===Object.prototype.toString.call(e)},a=function(e){return t(e)?document.getElementById(e):e},s=function(e){e=e||window;var t=e.document;return null!==e.innerWidth?{w:e.innerWidth,h:e.innerHeight}:"CSS1Compat"===document.compatMode?{w:t.documentElement.clientWidth,h:t.documentElement.clientHeight}:{w:t.body.clientWidth,h:t.body.clientWidth}},i=function(e){var t=e.getBoundingClientRect(),a=t.height||t.bottom-t.top,i=t.width||t.right-t.left,n=s();return a&&i?t.top>n.h||t.bottom<0?!1:t.right<0||t.left>n.w?!1:!0:!1},n=function(t,a,s,i){var n=window.location.href.split("#")[0];switch(a=a||document.title,s=s||e("meta[name=description]")[0].content,i=i||e(this).data("src")||"",n=encodeURIComponent(n),a=encodeURIComponent(a),s=encodeURIComponent(s),i=encodeURIComponent(i),t){case"blogger":n="http://www.blogger.com/blog_this.pyra?t="+a+"&u="+n;break;case"linkedin":n="http://www.linkedin.com/cws/share?url="+n+"&title="+a;break;case"delicious":n="http://www.delicious.com/post?title="+a+"&url="+n;break;case"digg":n="http://digg.com/submit?phase=2&url="+n+"&title="+a+"&bodytext="+s+"&topic=tech_deals";break;case"reddit":n="http://reddit.com/submit?url="+n+"&title="+a;break;case"furl":n="http://www.furl.net/savedialog.jsp?t="+a+"&u="+n;break;case"rawsugar":n="http://www.rawsugar.com/home/extensiontagit/?turl="+n+"&tttl="+a;break;case"stumbleupon":n="http://www.stumbleupon.com/submit?url="+n+"&title="+a;break;case"blogmarks":break;case"facebook":n="http://www.facebook.com/share.php?src=bm&v=4&u="+n+"&t="+a;break;case"technorati":n="http://technorati.com/faves?sub=favthis&add="+n;break;case"spurl":n="http://www.spurl.net/spurl.php?v=3&title="+a+"&url="+n;break;case"simpy":n="http://www.simpy.com/simpy/LinkAdd.do?title="+a+"&href="+n;break;case"ask":break;case"google":n="http://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk="+n+"&title="+a;break;case"netscape":n="http://www.netscape.com/submit/?U="+n+"&T="+a+"&C="+s;break;case"slashdot":n="http://slashdot.org/bookmark.pl?url="+n+"&title="+a;break;case"backflip":n="http://www.backflip.com/add_page_pop.ihtml?title="+a+"&url="+n;break;case"bluedot":n="http://bluedot.us/Authoring.aspx?u="+n+"&t="+a;break;case"kaboodle":n="http://www.kaboodle.com/za/selectpage?p_pop=false&pa=url&u="+n;break;case"squidoo":n="http://www.squidoo.com/lensmaster/bookmark?"+n;break;case"twitter":n="http://twitter.com/share?url="+n+"&text="+a;break;case"pinterest":n="http://pinterest.com/pin/create/button/?url="+n+"&media="+i+"&description="+a;break;case"vk":n="http://vk.com/share.php?url="+n;break;case"bluedot":n="http://blinkbits.com/bookmarklets/save.php?v=1&source_url="+n+"&title="+a;break;case"blinkList":n="http://blinkbits.com/bookmarklets/save.php?v=1&source_url="+n+"&title="+a;break;case"googleplus":n="https://plus.google.com/share?url="+n+"&t="+a;break;default:return}window.open(n,"sharewindow")};e(function(){var t=(e("html"),e("#header")),s=e("#search"),o=e("#main"),r=(e("#mask"),e("#categories")),l=e("#cart"),d=e("#js-loading"),c=e("#js-inquiry-form"),u=e("#js-signinbox");if(FastClick.attach(document.body),t.on("focusin click",".search",function(){s.find(".js-key").trigger("focusin")}),s.data("$hidden",s.find(".js-hide")).on("focusin click",".js-key",function(){o.hasClass("js-hide")||(this.focus(),this.value="",s.siblings().addClass("js-hide"),s.data("$hidden").removeClass("js-hide"),s.find(".search-hot").hide())}).on("click",".js-cancel",function(){s.find(".js-key").val(""),s.find(".js-clear").removeClass("fn-db"),s.find(".js-keylist").empty(),s.siblings().removeClass("js-hide"),s.data("$hidden").addClass("js-hide"),s.find(".search-hot").show()}).on("click",".js-clear",function(){e(this).removeClass("fn-db"),s.find(".js-key").val("").focus(),s.find(".js-keylist").empty()}).on("keyup",".js-key",function(){var t=s.children("form").attr("action"),a=e.trim(s.find(".js-key").val()),i=s.find(".js-keylist"),n=s.find(".js-clear");return a?(n.addClass("fn-db"),e.get(t,{key:a},function(t){var a=e.map(t,function(e){return e.suggestion}).join("");i.html(a)},"json"),void 0):(n.removeClass("fn-db"),s.find(".js-keylist").empty(),void 0)}),e("#search-footer").on("click",".search-trigger",function(){s.find(".js-key").trigger("focusin")}),r.find(".slider").swipe({continuous:!1,callback:function(t,a){var s=e(a.parentNode.parentNode),i=s.next(".nav"),n=s.data("swipe"),o=n.getNumSlides();0===t?i.addClass("next").removeClass("prev"):t===o-1&&i.addClass("prev").removeClass("next")}}),r.on("click",".slider-wrap > .nav",function(){var t=e(this),a=t.prev().data("swipe");a[t.hasClass("next")?"next":"prev"]()}),r.children(".viewmore").on("click",function(){var t=e(this);t.hasClass("unfold")?t.text("All Categories").removeClass("unfold").prev().addClass("js-hide"):t.text("Hide Up").addClass("unfold").prev().removeClass("js-hide")}),l.on("click",".js-close",function(){return e(this.parentNode).addClass("fold"),!1}),o.find(".js-slider").swipe({auto:3e3}),o.on("click",".search-result .actions .fold",function(){e(this).parents("section").toggleClass("unfold")}),o.on("click",".search-result .actions .cart",function(){var t=e(this),a=t.data("url"),s=l.find(".counter"),i=parseInt(s.text(),10);t.hasClass("added")?e.getJSON(a,{action:"del"},function(e){"success"===e.status&&(s.text(--i),0>=i&&l.addClass("js-hide"),t.removeClass("added"))}):e.getJSON(a,{action:"add"},function(e){"success"===e.status&&(s.text(++i),i>0&&l.removeClass("js-hide"),t.addClass("added"))})}),o.find(".search-result > .w-title").prev("section").addClass("nobd"),d.length){new Spinner({lines:17,length:0,width:3,radius:5,corners:0,rotate:0,direction:1,color:"#555",speed:1,trail:100,shadow:!1,hwaccel:!1,className:"spinner",zIndex:0,top:"50%",left:"50%"}).spin(e("<i/>").prependTo(d)[0]),template.config("escape",!1);var h=template.compile(a("tpl-prolist").innerHTML);e(window).on("DOMContentLoaded load resize scroll",function(){var t=d.data("url"),a=d.data("page")||1,s=d.data("loading")||!1;i(d[0])&&!s&&(d.data("loading",!0),e.getJSON(t,{page:a},function(e){"nomore"===e.status&&d.hide(),d.before(h(e)).data("page",++a).data("loading",!1)}))})}if(function(){var t=e("#js-scroller");if(t.length){var a=t.children(".list"),s=a.children(".item").length,i=a.children(".item").width(),n=new Hammer(a[0]);a.width(i*s),n.on("swipeleft",function(){var e=a.position().left;Math.abs(e/i)<s-1&&a.animate({translateX:e-i+"px"},200,"ease-in-out")}),n.on("swiperight",function(){var e=a.position().left;Math.abs(e/i)>0&&a.animate({translateX:e+i+"px"},200,"ease-in-out")})}}(),o.on("click",".proshow .learn-more",function(){e(this).toggleClass("unfold").prev().toggleClass("js-hide"),this.innerHTML=this.classList.contains("unfold")?"Hide up":"Learn More"}),e("#js-share").on("click","a",function(){n(this.className)}),e("#contact-bar").on("click",".cart",function(){var t=e(this),a=l.find(".counter"),s=parseInt(a.text(),10);t.hasClass("added")?(a.text(--s),0>=s&&l.addClass("js-hide"),t.removeClass("added")):(a.text(++s),s>0&&l.removeClass("js-hide"),t.addClass("added"))}).on("click",".addto-products",function(){var t=e(this),a=t.data("url");return t.hasClass("added")?void 0:(e.getJSON(a,{action:"add"},function(e){"success"===e.status&&t.addClass("added").text("In My Products")}),!1)}),window.inquiryTpls){var p=function(t){var a=e(this),s=c.find(".msg > textarea"),i=inquiryTpls[a.data("tpl")],n=e.trim(s.val()).split("\n")||inquiryTpls.base,o=a.parent().data("index")||n.indexOf("I would like some more details:")+1;a.hasClass("selected")?(n.indexOf(i)>-1&&n.splice(n.indexOf(i),1),o--):(n.indexOf(i)>-1&&n.splice(n.indexOf(i),1),n.splice(o,0,i),o++),a.toggleClass("selected").parent().data("index",o),s.val(n.join("\n")),t&&t.preventDefault()};c.find(".msg > textarea").val()||c.find(".msg > textarea").val(inquiryTpls.base.join("\n")),c.on("click",".tpls > .switcher",function(){e(this).toggleClass("unfold").next().toggleClass("js-hide"),this.innerHTML=this.classList.contains("unfold")?"Hide":"Show"}).on("click",".tpls-wrap > label",p),c.find(".tpls-wrap > label[data-status=selected]").each(p),c.on("submit",function(){var e=c.find(".w-tips.error");return islogin?e.length?(e.prev().focus(),!1):void 0:(window.location.href=this.action,!1)}).on("keyup blur",".msg > textarea",function(){var t=e(this),a=e.trim(t.val()).length,s=t.next(".w-tips"),i=c.find(".submit > button");5>a||a>8e3?(s=s.length?s:e('<i class="w-tips"/>').insertAfter(t),s.addClass("error").html("Your message must be between 5 and 8000 characters"),i.prop("disabled",0===a)):(s.remove(),i.prop("disabled",!1))})}e("#js-codeimg").on("click",function(){this.src=this.src.split("?")[0]+"?"+new Date}),u.children("nav").on("click","a",function(){var t=e(this),a=t.parent().siblings("form"),s=t.index();t.addClass("on").siblings("a").removeClass("on"),a.eq(s).addClass("on").siblings("form").removeClass("on")}).find("a").first().trigger("click");var f=function(){var t=e(this).filter("[required]"),a=(t.closest("form"),t.closest("section")),s=a.find(".w-tips.error"),i=this.checkValidity(),n=e.trim(t.val()),o=n.length,r=0===o?t.data("msg-req"):t.data("msg-err"),l=t.data("ajaxurl"),d=t.data("ajaxchecking")||!1;d||(i?l?(t.data("ajaxchecking",!0),e.getJSON(l,{name:n},function(e){"error"===e.status?(t.addClass("invalid").focus(),a.append('<i class="w-tips error">'+e.msg+"</i>")):(t.removeClass("invalid"),s.remove())})):(t.removeClass("invalid"),s.remove()):(t.addClass("invalid").focus(),a.append('<i class="w-tips error">'+r+"</i>")))};u.children("form").on("change","input",function(){var t=e(this),a=(t.closest("form"),t.closest("section")),s=a.find(".w-tips.error"),i=this.checkValidity(),n=e.trim(t.val()),o=n.length,r=0===o?t.data("msg-req"):t.data("msg-err"),l=t.data("ajaxurl"),d=t.data("ajaxchecking")||!1;d||(a.hasClass("username")?s.filter(function(){return-1!==e(this).text().indexOf(t.attr("placeholder").toLowerCase())}).remove():s.remove(),i?l?(t.data("ajaxchecking",!0),e.getJSON(l,{name:n},function(e){"error"===e.status?(t.addClass("invalid"),a.append('<i class="w-tips error">'+e.msg+"</i>")):t.removeClass("invalid")})):t.removeClass("invalid"):(t.addClass("invalid"),a.append('<i class="w-tips error">'+r+"</i>")))}).on("change","#js-country",function(){var t=e(this).next("img"),a=t.attr("src"),s=a.slice(-4),i=this.options[this.selectedIndex].getAttribute("data-id").toLowerCase();t.attr("src",a.slice(0,a.lastIndexOf("/")+1)+i+s)}).on("focus","input, select",function(){e(this).parent().trigger("focus")}).on("submit",function(){var t=e(this),a=t.children(".w-tips.error");return t.find(".invalid").length?!1:(e("input",this).trigger("change"),t.find(".invalid").length?!1:(e.ajax({type:"POST",url:t.attr("action"),data:t.serializeArray(),dataType:"json",success:function(s){"error"===s.status?(a=a.length?a:e('<i class="w-tips error"/>').prependTo(t),a.html(s.msg)):window.location=s.msg}}),!1))}).attr("novalidate","novalidate"),e("#js-callme").on("change","input",f).on("submit",function(){var t=e(this);return t.find(".invalid").length?!1:(e("input",this).each(function(){return e(this).trigger("change"),t.find(".invalid").length?!1:void 0}),t.find(".invalid").length?!1:void 0)}).attr("novalidate","novalidate"),function(){var t,a=e("#js-countdown"),s=5;a.length&&(t=setInterval(function(){a.text(s--),1>s&&(clearInterval(t),window.location.href="/")},1e3))}(),e("#js-basket").on("click","ul > li > i",function(){var t=e(this),a=e("#js-basket").find(".btn-send"),s=t.data("url");e.getJSON(s,{action:"del"},function(e){"success"===e.status?(t.parent().fadeOut().remove(),e.data&&a.attr("href",e.data)):alert("Delete failed!")})})})}(window.Zepto||window.jQuery);